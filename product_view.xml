<openerp>
<data>

<!-- Add fields to product.product object
'tms_categorye'
-->
        <record model="ir.ui.view" id="tms_product_search_form_view">
            <field name="name">TMS product.search.form</field>
            <field name="model">product.product</field>
            <field name="type">search</field>
            <field name="priority">50</field>
            <field name="inherit_id" ref="product.product_search_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="/search/filter[@name='filter_to_sell']" position="after" >
                    <filter string="Can be Purchased" name="filter_to_purchase" icon="terp-accessories-archiver-minus" domain="[('purchase_ok','=',1)]"/>
                    <separator orientation="vertical"/>
                   <filter string="TMS Transportable" icon="terp-stock_effects-object-colorize" domain="[('tms_category','=','transportable')]"/>
                   <filter string="TMS Related" icon="terp-stage" 
                        domain="[('tms_category','in',('freight', 'travel','move','insurance','highway','other'))]"/>
                   <filter string="TMS Expense" icon="terp-dolar" domain="[('tms_category','in',('real_expense','madeup_expense', 'salary', 'salary_retention', 'salary_discount', 'negative_balance'))]"/> 
                </xpath> 
            </field>
        </record>

        <record model="ir.ui.view" id="tms_product_normal_form_view">
            <field name="name">TMS product.normal.form</field>
            <field name="model">product.product</field>
            <field name="type">form</field>
            <field name="priority">50</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='buttons']" position="inside" >
                    <group>
                        <label for="tms_category"/>
                        <newline />
                        <field name="tms_category" on_change="onchange_tms_category(tms_category)" class="oe_left" nolabel="1"/>
                        <newline />
                        <label for="tms_activity_duration" attrs="{'invisible':[('tms_category','!=','maint_activity')]}" class="oe_left"/>
                        <newline />
                        <field name="tms_activity_duration" attrs="{'invisible':[('tms_category','!=','maint_activity')], 'required':[('tms_category','=','maint_activity')]}" class="oe_left" nolabel="1"/>
                    </group>
                </xpath> 
                <notebook position="inside">
                    <page string="TMS Expense Accounts" attrs="{'invisible':[('tms_category','!=','indirect_expense')]}" >
                        <field name="tms_account_ids" nolabel="1" />
                    </page>
                </notebook>
            </field>
        </record>







</data>
</openerp>
