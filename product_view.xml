<openerp>
    <data>

        <record model="ir.ui.view" id="tms_maintenance_product_normal_form_view">
            <field name="name">TMS Maintenance product.normal.form</field>
            <field name="model">product.product</field>
            <field name="type">form</field>
            <field name="priority">51</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
              <field name="tms_category" position="after">
                <newline />
                <div name="mro_prev">
                  <field name="mro_preventive" attrs="{'invisible':[('tms_category','!=','maint_service_type')]}" class="oe_left" nolabel="1"/>
                  <label for="mro_preventive" attrs="{'invisible':[('tms_category','!=','maint_service_type')]}" />
                </div>
              </field>
              <notebook position="inside">
                <page string="MRO Program Details" attrs="{'invisible':[('tms_category','!=','maint_service_program')]}">
                  <group col="4" colspan="4">
                    <field name="mro_frequency" />
                    <newline />
                    <separator string="Tasks" colspan="4" />
                    <field name="mro_activity_ids" colspan="4" nolabel="1"
                           domain="[('tms_category','=','maint_activity'), ('type', '=', 'service')]"
                           context="{'tms_category': 'maint_activity', 'type':'service'}">
                      <tree>
                        <field name="default_code" />
                        <field name="name" />
                        <field name="tms_category" />
                        <field name="tms_activity_duration" widget="time_float"/>
                        <field name="list_price" />
                      </tree>
                    </field>
                    <separator string="Program Services Included" colspan="4" />
                    <field name="mro_program_ids" colspan="4" nolabel="1"
                           domain="[('tms_category','=','maint_service_program'), ('type', '=', 'service')]"
                           context="{'tms_category': 'maint_service_program', 'type':'service'}">
                      <tree>
                        <field name="default_code" />
                        <field name="name" />
                        <field name="tms_category" />
                        <field name="mro_frequency"/>
                        <field name="mro_activity_ids"/>
                        <field name="mro_program_ids"/>
                        <field name="list_price" />
                      </tree>
                    </field>
                  </group>
                </page>
                </notebook>
            </field>
        </record>


</data>
</openerp>
