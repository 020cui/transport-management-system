<openerp>
<data>


<!-- Agregamos el campo <<tms_category>> al formulario de Empleados para saber si la persona es usada 
    como Operador de unidad (Viajes) o como Mecanico (Mantenimiento)
-->
        <record model="ir.ui.view" id="view_employee_form_tms">
            <field name="name">Employee - TMS</field>
            <field name="model">hr.employee</field>
            <field name="type">form</field>
            <field name="priority">50</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
                <field name="user_id" position="replace">
                    <field name="user_id" on_change="onchange_user(user_id)" string="Related User" attrs="{'required':[('tms_category','=','mechanic')]}"/>
                </field>
                <notebook position="inside">
                    <page string="TMS">
                        <group>
						    <field name="tms_category" />
						    <field name="tms_advance_account_id" attrs="{'required':[('tms_category','=','driver')],'invisible':[('tms_category','!=','driver')]  }"/>
                            <field name="tms_expense_negative_balance_account_id" attrs="{'required':[('tms_category','=','driver')],'invisible':[('tms_category','!=','driver')]  }"/>
						    <field name="tms_supplier_driver" />
						    <field name="tms_supplier_id" attrs="{'required':[('tms_supplier_driver','=',True)],'invisible':[('tms_supplier_driver','!=',True)]  }"/>
                        </group>
					</page>
                </notebook>
            </field>
        </record>

</data>
</openerp>

